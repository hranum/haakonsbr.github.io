var He=Object.defineProperty,Oe=Object.defineProperties;var We=Object.getOwnPropertyDescriptors;var ke=Object.getOwnPropertySymbols;var Re=Object.prototype.hasOwnProperty,Be=Object.prototype.propertyIsEnumerable;var ve=(i,e,t)=>e in i?He(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,oe=(i,e)=>{for(var t in e||(e={}))Re.call(e,t)&&ve(i,t,e[t]);if(ke)for(var t of ke(e))Be.call(e,t)&&ve(i,t,e[t]);return i},ge=(i,e)=>Oe(i,We(e));import{a as Xe,S as ee,i as te,s as ne,e as u,t as W,b as N,c as r,d as ie,f as re,g as de,h as b,j as c,l as K,k as F,m as x,n as p,D as be,o as q,p as pe,q as ce,r as fe,u as X,v as Je,w as he,x as U,y as ue,z as se,A as ae,B as Pe,C as ye,E as we,F as Ae,G as qe,H as Ue,I as Ye}from"./vendor.e1aa00de.js";const ze=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerpolicy&&(s.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?s.credentials="include":a.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=t(a);fetch(a.href,s)}};ze();const Ve="https://gbfs.urbansharing.com/oslobysykkel.no/",Y={async fetchData(i,e={},t=0,n=0){if(!i||typeof i!="string")throw Error(`Provide an URL string as the first argument. You provided: ${i} which is a ${typeof i}`);const a=10*1e3,s=10;if(n===0)n=Date.now();else if(Date.now()-n>=a||t>=s)throw Error("Did not receive data from endpoint within acceptable time");const l=oe({baseURL:Ve,headers:{"Client-Identifier":"haakonranum-demoapp"},url:i,method:"get",timeout:1500},e);try{return await Xe.request(l)}catch{return t=t+1,await Y.fetchData(i,e,t,n)}},writeCache(i,e,t){const n={ttl:t,data:e};localStorage.setItem(i,JSON.stringify(n))},readCache(i){const e=JSON.parse(localStorage.getItem(i));return e&&e.ttl>Date.now()?e.data:null},async getStationInformation(){const i="station_information",e=Date.now()+5*60*1e3,t=Y.readCache(i);if(!t){const n=await Y.fetchData("station_information.json");if(n&&n.data&&n.data.data&&Array.isArray(n.data.data.stations))return Y.writeCache(i,n.data.data.stations,e),n.data.data.stations;throw Error("Unexpected response from service endpoint")}return t},async getStationStatuses(){const i=10,e="station_status",t=Y.readCache(e);if(!t){const n=await Y.fetchData("station_status.json");if(n&&n.data&&n.data.data&&Array.isArray(n.data.data.stations)){const s=(new Date().getTime()/1e3+i)*1e3;return Y.writeCache(e,n.data.data.stations,s),n.data.data.stations}else throw Error("Unexpected response from service endpoint")}return t},async getStationData(){const i=[],e=await Y.getStationInformation();return e.forEach(n=>{i.push(n)}),(await Y.getStationStatuses()).forEach(n=>{const a=e.findIndex(l=>l.station_id===n.station_id);i[a].status&&i.status.last_reported===n.last_reported||(i[a]=ge(oe({},i[a]),{status:n}))}),i}};var Ze="/assets/oops.4dfb3605.png",Ke="/assets/bike-loader.b528e818.gif",Fe="/assets/arrow.bf70118e.svg",Qe="data:image/png;base64,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";function Ce(i){let e,t,n,a,s,l=(i[3]?i[2]:0)+"",o,d,m,h=(i[4]?i[1]:0)+"",w,I,k,y,S,f,M,A,E,L,R,Q,G,z,J,g,j,B,P,C=(!i[3]||!i[4])&&Ne(i),T=i[7]&&Ee(i);return{c(){e=u("div"),t=u("div"),n=u("div"),a=u("div"),s=u("div"),o=W(l),d=N(),m=u("div"),w=W(h),I=N(),k=u("div"),y=W(i[0]),S=N(),f=u("div"),C&&C.c(),M=N(),T&&T.c(),A=N(),E=u("div"),L=u("img"),Q=N(),G=u("div"),z=W(i[10]),J=N(),g=u("div"),j=u("i"),r(s,"data-testid","bikes-available"),r(s,"class","bikes border-radius-5 svelte-kea5dm"),ie(s,"is_not_renting",!i[3]),r(m,"data-testid","docks-available"),r(m,"class","docks border-radius-5 svelte-kea5dm"),ie(m,"is_not_returning",!i[4]),r(a,"class","availability svelte-kea5dm"),r(k,"class","station-name svelte-kea5dm"),r(n,"class","top svelte-kea5dm"),r(f,"class","bottom svelte-kea5dm"),r(t,"class","info svelte-kea5dm"),r(L,"class","arrow svelte-kea5dm"),re(L.src,R=Fe)||r(L,"src",R),de(L,"transform","rotate("+i[8]+"deg)"),r(L,"alt","Direction"),r(G,"class","distance svelte-kea5dm"),r(G,"data-testid","distance"),r(E,"class","navigator svelte-kea5dm"),r(j,"class","fa fa-map-marker fa-2x svelte-kea5dm"),r(j,"aria-hidden","true"),r(g,"data-testid","map-link"),r(g,"title","\xC5pne stasjonen i Google Maps"),r(g,"class","map svelte-kea5dm"),de(g,"background-image","url("+Qe+")"),r(e,"class","station border-radius-5 svelte-kea5dm"),r(e,"data-testid","station")},m(v,H){b(v,e,H),c(e,t),c(t,n),c(n,a),c(a,s),c(s,o),c(a,d),c(a,m),c(m,w),c(n,I),c(n,k),c(k,y),c(t,S),c(t,f),C&&C.m(f,null),c(f,M),T&&T.m(f,null),c(e,A),c(e,E),c(E,L),c(E,Q),c(E,G),c(G,z),c(e,J),c(e,g),c(g,j),B||(P=K(g,"click",i[12]),B=!0)},p(v,H){H&12&&l!==(l=(v[3]?v[2]:0)+"")&&F(o,l),H&8&&ie(s,"is_not_renting",!v[3]),H&18&&h!==(h=(v[4]?v[1]:0)+"")&&F(w,h),H&16&&ie(m,"is_not_returning",!v[4]),H&1&&F(y,v[0]),!v[3]||!v[4]?C?C.p(v,H):(C=Ne(v),C.c(),C.m(f,M)):C&&(C.d(1),C=null),v[7]?T?T.p(v,H):(T=Ee(v),T.c(),T.m(f,null)):T&&(T.d(1),T=null),H&256&&de(L,"transform","rotate("+v[8]+"deg)"),H&1024&&F(z,v[10])},d(v){v&&p(e),C&&C.d(),T&&T.d(),B=!1,P()}}}function Ne(i){let e,t,n,a,s=!i[3]&&je(i),l=!i[4]&&Le();return{c(){e=u("span"),e.textContent="Denne stasjonen har for \xF8yeblikket ikke",t=N(),s&&s.c(),n=N(),l&&l.c(),a=x(),r(e,"data-testid","renting-or-returning-status")},m(o,d){b(o,e,d),b(o,t,d),s&&s.m(o,d),b(o,n,d),l&&l.m(o,d),b(o,a,d)},p(o,d){o[3]?s&&(s.d(1),s=null):s?s.p(o,d):(s=je(o),s.c(),s.m(n.parentNode,n)),o[4]?l&&(l.d(1),l=null):l||(l=Le(),l.c(),l.m(a.parentNode,a))},d(o){o&&p(e),o&&p(t),s&&s.d(o),o&&p(n),l&&l.d(o),o&&p(a)}}}function je(i){let e,t,n,a=!i[4]&&Me();return{c(){e=u("span"),e.textContent="sykler som kan hentes",t=N(),a&&a.c(),n=x(),r(e,"data-testid","is-not-renting")},m(s,l){b(s,e,l),b(s,t,l),a&&a.m(s,l),b(s,n,l)},p(s,l){s[4]?a&&(a.d(1),a=null):a||(a=Me(),a.c(),a.m(n.parentNode,n))},d(s){s&&p(e),s&&p(t),a&&a.d(s),s&&p(n)}}}function Me(i){let e;return{c(){e=u("span"),e.textContent="eller",r(e,"data-testid","is-not-returning-1")},m(t,n){b(t,e,n)},d(t){t&&p(e)}}}function Le(i){let e;return{c(){e=u("span"),e.textContent="\xE5pent for retur av sykkel",r(e,"data-testid","is-not-returning-2")},m(t,n){b(t,e,n)},d(t){t&&p(e)}}}function Ee(i){let e,t,n=be.fromSeconds(i[7]).setLocale("no").toRelative("minutes")+"",a;return{c(){e=u("span"),t=W("Sist oppdatert "),a=W(n)},m(s,l){b(s,e,l),c(e,t),c(e,a)},p(s,l){l&128&&n!==(n=be.fromSeconds(s[7]).setLocale("no").toRelative("minutes")+"")&&F(a,n)},d(s){s&&p(e)}}}function xe(i){let e,t=(!i[9]||i[9]==="docks"&&i[1]>0||i[9]==="bikes"&&i[2]>0)&&Ce(i);return{c(){t&&t.c(),e=x()},m(n,a){t&&t.m(n,a),b(n,e,a)},p(n,[a]){!n[9]||n[9]==="docks"&&n[1]>0||n[9]==="bikes"&&n[2]>0?t?t.p(n,a):(t=Ce(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:q,o:q,d(n){t&&t.d(n),n&&p(e)}}}function $e(i,e,t){let n,{name:a}=e,{docks_available:s}=e,{bike_available:l}=e,{is_renting:o}=e,{is_returning:d}=e,{latitude:m}=e,{longitude:h}=e,{last_status:w}=e,{distance:I}=e,{direction:k}=e,{filterBy:y}=e;const S=()=>window.open(`http://www.google.com/maps/place/${m},${h}`);return i.$$set=f=>{"name"in f&&t(0,a=f.name),"docks_available"in f&&t(1,s=f.docks_available),"bike_available"in f&&t(2,l=f.bike_available),"is_renting"in f&&t(3,o=f.is_renting),"is_returning"in f&&t(4,d=f.is_returning),"latitude"in f&&t(5,m=f.latitude),"longitude"in f&&t(6,h=f.longitude),"last_status"in f&&t(7,w=f.last_status),"distance"in f&&t(11,I=f.distance),"direction"in f&&t(8,k=f.direction),"filterBy"in f&&t(9,y=f.filterBy)},i.$$.update=()=>{i.$$.dirty&2048&&t(10,n=I>1e3?(I/1e3).toFixed(1)+" km":I+" meter")},[a,s,l,o,d,m,h,w,k,y,n,I,S]}class et extends ee{constructor(e){super();te(this,e,$e,xe,ne,{name:0,docks_available:1,bike_available:2,is_renting:3,is_returning:4,latitude:5,longitude:6,last_status:7,distance:11,direction:8,filterBy:9})}}function tt(i){let e;return{c(){e=W("Laster kartet ...")},m(t,n){b(t,e,n)},d(t){t&&p(e)}}}function nt(i){let e;return{c(){e=u("span"),e.textContent="En feil oppstod ved innlasting av kartet.",r(e,"data-testid","map-error-message")},m(t,n){b(t,e,n)},d(t){t&&p(e)}}}function it(i){let e;function t(s,l){return s[0]?nt:tt}let n=t(i),a=n(i);return{c(){e=u("div"),a.c(),r(e,"id","map"),r(e,"class","svelte-1h0l8r5")},m(s,l){b(s,e,l),a.m(e,null)},p(s,[l]){n!==(n=t(s))&&(a.d(1),a=n(s),a&&(a.c(),a.m(e,null)))},i:q,o:q,d(s){s&&p(e),a.d()}}}const st="pk.eyJ1IjoiaHJhbnVtIiwiYSI6ImNrdnpjODR1azA0YngycXBxZHdsb2VoNWkifQ.HDk5Dp_1C7jidRvKIYkz0w";function at(i,e,t){let{latitude:n}=e,{longitude:a}=e,{stations:s}=e,l,o;const d=(k,y)=>{mapboxgl.accessToken=st,t(4,l=new mapboxgl.Map({container:"map",style:"mapbox://styles/mapbox/light-v10",center:[k,y],zoom:14})),w(k,y)},m=new Map;let h;const w=(k,y)=>{if(h)h.setLngLat([k,y]);else{const S=document.createElement("div");S.className="dot";const f=document.createElement("div");f.className="device-location",f.appendChild(S),h=new mapboxgl.Marker(f).setLngLat([k,y]).addTo(l)}},I=(k,y,S,f)=>{let M=m.get(k);if(!M){const A=document.createElement("span");A.className="bikes",A.textContent=y;const E=document.createElement("span");E.className="docks",E.textContent=S;const L=document.createElement("div");L.className="marker",L.title=k,L.appendChild(A),L.appendChild(E);const R=new mapboxgl.Marker(L).setLngLat(f).addTo(l);M={markerEl:L,bikesEl:A,docksEl:E,mapMarker:R},m.set(k,M)}M.bikesEl.textContent=y,M.docksEl.textContent=S};return pe(async()=>{try{d(a,n)}catch{t(0,o=!0)}}),i.$$set=k=>{"latitude"in k&&t(1,n=k.latitude),"longitude"in k&&t(2,a=k.longitude),"stations"in k&&t(3,s=k.stations)},i.$$.update=()=>{i.$$.dirty&24&&s.length>0&&s.map(k=>{l&&I(k.name,k.status.num_bikes_available,k.status.num_docks_available,[k.lon,k.lat])}),i.$$.dirty&22&&l&&l.loaded()&&w(a,n)},[o,n,a,s,l]}class lt extends ee{constructor(e){super();te(this,e,at,it,ne,{latitude:1,longitude:2,stations:3})}}const{Map:ot}=Ue;function De(i,e,t){const n=i.slice();return n[23]=e[t],n}function Ie(i){let e,t,n,a;return t=new lt({props:{stations:i[2],latitude:i[0],longitude:i[1]}}),{c(){e=u("div"),ce(t.$$.fragment),r(e,"id","map-container"),r(e,"data-testid","map-container")},m(s,l){b(s,e,l),fe(t,e,null),a=!0},p(s,l){i=s;const o={};l&4&&(o.stations=i[2]),l&1&&(o.latitude=i[0]),l&2&&(o.longitude=i[1]),t.$set(o)},i(s){a||(X(t.$$.fragment,s),Je(()=>{n||(n=he(e,Ae,{delay:250,duration:300,easing:we},!0)),n.run(1)}),a=!0)},o(s){U(t.$$.fragment,s),n||(n=he(e,Ae,{delay:250,duration:300,easing:we},!1)),n.run(0),a=!1},d(s){s&&p(e),ue(t),s&&n&&n.end()}}}function rt(i){let e;return{c(){e=W("Lukk kartet")},m(t,n){b(t,e,n)},d(t){t&&p(e)}}}function dt(i){let e;return{c(){e=W("\xC5pne kartet")},m(t,n){b(t,e,n)},d(t){t&&p(e)}}}function Se(i){let e,t,n;return{c(){e=u("div"),t=u("p"),n=W(i[5]),r(t,"class","svelte-125kr5n"),r(e,"id","error-container"),r(e,"class","svelte-125kr5n")},m(a,s){b(a,e,s),c(e,t),c(t,n)},p(a,s){s&32&&F(n,a[5])},d(a){a&&p(e)}}}function ct(i){let e,t,n,a;const s=[mt,ut],l=[];function o(d,m){return d[2].length>0?0:1}return t=o(i),n=l[t]=s[t](i),{c(){e=u("div"),n.c(),r(e,"id","stations"),r(e,"data-testid","stations-list")},m(d,m){b(d,e,m),l[t].m(e,null),a=!0},p(d,m){let h=t;t=o(d),t===h?l[t].p(d,m):(se(),U(l[h],1,1,()=>{l[h]=null}),ae(),n=l[t],n?n.p(d,m):(n=l[t]=s[t](d),n.c()),X(n,1),n.m(e,null))},i(d){a||(X(n),a=!0)},o(d){U(n),a=!1},d(d){d&&p(e),l[t].d()}}}function ft(i){let e,t,n,a,s,l;return{c(){e=u("div"),t=u("img"),a=N(),s=u("p"),l=W(i[4]),re(t.src,n=Ze)||r(t,"src",n),r(t,"alt","Error illustration"),r(s,"class","svelte-125kr5n"),r(e,"id","error-container"),r(e,"data-testid","error-container"),r(e,"class","svelte-125kr5n")},m(o,d){b(o,e,d),c(e,t),c(e,a),c(e,s),c(s,l)},p(o,d){d&16&&F(l,o[4])},i:q,o:q,d(o){o&&p(e)}}}function ut(i){let e,t,n,a,s;return{c(){e=u("div"),t=u("img"),a=N(),s=u("p"),s.textContent="Laster inn sykler og stativer :-)",re(t.src,n=Ke)||r(t,"src",n),r(t,"alt","Loading gif"),r(t,"class","svelte-125kr5n"),r(e,"class","loader svelte-125kr5n"),r(e,"data-testid","loader")},m(l,o){b(l,e,o),c(e,t),c(e,a),c(e,s)},p:q,i:q,o:q,d(l){l&&p(e)}}}function mt(i){let e=[],t=new ot,n,a,s=i[8].sort(Ge);const l=o=>o[23].station_id;for(let o=0;o<s.length;o+=1){let d=De(i,s,o),m=l(d);t.set(m,e[o]=Te(m,d))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();n=x()},m(o,d){for(let m=0;m<e.length;m+=1)e[m].m(o,d);b(o,n,d),a=!0},p(o,d){d&320&&(s=o[8].sort(Ge),se(),e=qe(e,d,l,1,o,s,t,n.parentNode,Ye,Te,n,De),ae())},i(o){if(!a){for(let d=0;d<s.length;d+=1)X(e[d]);a=!0}},o(o){for(let d=0;d<e.length;d+=1)U(e[d]);a=!1},d(o){for(let d=0;d<e.length;d+=1)e[d].d(o);o&&p(n)}}}function Te(i,e){let t,n,a;return n=new et({props:{name:e[23].name,direction:e[23].direction,distance:e[23].distance,is_renting:e[23].status.is_renting===1,is_returning:e[23].status.is_returning===1,bike_available:e[23].status.num_bikes_available,docks_available:e[23].status.num_docks_available,latitude:e[23].lat,longitude:e[23].lon,last_status:e[23].status.last_reported,filterBy:e[6]}}),{key:i,first:null,c(){t=x(),ce(n.$$.fragment),this.first=t},m(s,l){b(s,t,l),fe(n,s,l),a=!0},p(s,l){e=s;const o={};l&256&&(o.name=e[23].name),l&256&&(o.direction=e[23].direction),l&256&&(o.distance=e[23].distance),l&256&&(o.is_renting=e[23].status.is_renting===1),l&256&&(o.is_returning=e[23].status.is_returning===1),l&256&&(o.bike_available=e[23].status.num_bikes_available),l&256&&(o.docks_available=e[23].status.num_docks_available),l&256&&(o.latitude=e[23].lat),l&256&&(o.longitude=e[23].lon),l&256&&(o.last_status=e[23].status.last_reported),l&64&&(o.filterBy=e[6]),n.$set(o)},i(s){a||(X(n.$$.fragment,s),a=!0)},o(s){U(n.$$.fragment,s),a=!1},d(s){s&&p(t),ue(n,s)}}}function _t(i){let e,t,n,a,s,l,o,d,m,h,w,I,k=(i[3]?"P\xE5sl\xE5tt":"Avsl\xE5tt")+"",y,S,f,M,A,E,L,R,Q,G,z,J,g,j,B,P,C,T,v=i[7]&&Ie(i);function H(_,D){return _[7]?rt:dt}let $=H(i),V=$(i),O=i[5]&&Se(i);const me=[ft,ct],Z=[];function _e(_,D){return _[4]?0:1}return g=_e(i),j=Z[g]=me[g](i),{c(){e=u("div"),t=u("h1"),t.textContent="Simulerings verkt\xF8y",n=N(),a=u("div"),s=u("button"),s.textContent="G\xE5 til Majorstua",l=N(),o=u("button"),o.textContent="G\xE5 til Glassmagasinet",d=N(),m=u("button"),m.textContent="G\xE5 til Brynseng",h=N(),w=u("button"),I=W("Feil ved henting av data ("),y=W(k),S=W(")"),f=N(),v&&v.c(),M=N(),A=u("div"),E=u("div"),E.textContent="Vis meg ledige sykler",L=N(),R=u("div"),R.textContent="Vis meg ledige stativ",Q=N(),G=u("div"),V.c(),z=N(),O&&O.c(),J=N(),j.c(),B=x(),r(t,"class","svelte-125kr5n"),r(s,"type","button"),r(s,"class","svelte-125kr5n"),r(o,"type","button"),r(o,"class","svelte-125kr5n"),r(m,"type","button"),r(m,"class","svelte-125kr5n"),r(w,"type","button"),r(w,"class","svelte-125kr5n"),r(a,"class","buttons svelte-125kr5n"),r(e,"id","debug-panel"),r(e,"class","svelte-125kr5n"),r(E,"class","button bike svelte-125kr5n"),r(R,"class","button dock svelte-125kr5n"),r(G,"class","button toggle-map svelte-125kr5n"),r(G,"data-testid","toggle-map"),r(A,"id","navigation"),r(A,"class","svelte-125kr5n")},m(_,D){b(_,e,D),c(e,t),c(e,n),c(e,a),c(a,s),c(a,l),c(a,o),c(a,d),c(a,m),c(a,h),c(a,w),c(w,I),c(w,y),c(w,S),b(_,f,D),v&&v.m(_,D),b(_,M,D),b(_,A,D),c(A,E),c(A,L),c(A,R),c(A,Q),c(A,G),V.m(G,null),b(_,z,D),O&&O.m(_,D),b(_,J,D),Z[g].m(_,D),b(_,B,D),P=!0,C||(T=[K(s,"click",i[10]),K(o,"click",i[11]),K(m,"click",i[12]),K(w,"click",i[13]),K(E,"click",i[14]),K(R,"click",i[15]),K(G,"click",i[16])],C=!0)},p(_,[D]){(!P||D&8)&&k!==(k=(_[3]?"P\xE5sl\xE5tt":"Avsl\xE5tt")+"")&&F(y,k),_[7]?v?(v.p(_,D),D&128&&X(v,1)):(v=Ie(_),v.c(),X(v,1),v.m(M.parentNode,M)):v&&(se(),U(v,1,1,()=>{v=null}),ae()),$!==($=H(_))&&(V.d(1),V=$(_),V&&(V.c(),V.m(G,null))),_[5]?O?O.p(_,D):(O=Se(_),O.c(),O.m(J.parentNode,J)):O&&(O.d(1),O=null);let le=g;g=_e(_),g===le?Z[g].p(_,D):(se(),U(Z[le],1,1,()=>{Z[le]=null}),ae(),j=Z[g],j?j.p(_,D):(j=Z[g]=me[g](_),j.c()),X(j,1),j.m(B.parentNode,B))},i(_){P||(X(v),X(j),P=!0)},o(_){U(v),U(j),P=!1},d(_){_&&p(e),_&&p(f),v&&v.d(_),_&&p(M),_&&p(A),V.d(),_&&p(z),O&&O.d(_),_&&p(J),Z[g].d(_),_&&p(B),C=!1,Pe(T)}}}const Ge=(i,e)=>i.distance-e.distance;function kt(i,e,t){let n,a=[{type:"generic",message:"Ojsann her skjedde det en feil. Last inn siden p\xE5 nytt. Hvis det ikke hjelper ..."},{message:"Ojsann, det skjedde en feil ved innhenting av sykler og stativer. Vi pr\xF8ver igjen straks!"}],s=!1,l=!1,o,d,m=59.922883,h=10.758241,w,I,k,y=[],S=!1;const f=()=>{if(!s)try{navigator.geolocation.getCurrentPosition(g=>{t(5,I=null),t(0,m=g.coords.latitude),t(1,h=g.coords.longitude)},g=>{g.message==="User denied Geolocation"&&t(5,I=`Vi f\xE5r desverre ikke vist deg de n\xE6rmeste stasjonene fordi du ikke har 
              godkjent at vi kan se din posisjon! Her f\xE5r du likevel se alle stasjoner med utgangspunkt fra Olaf Ryes Plass!`)})}catch{}},M=(g,j)=>{s=!0,clearInterval(o);const B=(m-g)/20,P=(h-j)/20;for(let C=0;C<20;C++)setTimeout(()=>{t(0,m=m-B),t(1,h=h-P)},50*C)},A=async()=>{try{if(l)throw Error();t(2,y=await Y.getStationData())}catch{clearInterval(d),t(4,w=a[1].message),setTimeout(()=>{t(4,w=null),t(2,y=[]),d=setInterval(A,3*1e3)},5e3)}};pe(async()=>{A(),f(),d=setInterval(A,10*1e3),o=setInterval(f,10*1e3)});const E=()=>M(59.928992,10.714949),L=()=>M(59.913017,10.745386),R=()=>M(59.909158,10.814618),Q=()=>t(3,l=!l),G=()=>t(6,k="bikes"),z=()=>t(6,k="docks"),J=()=>t(7,S=!S);return i.$$.update=()=>{i.$$.dirty&7&&t(8,n=y.length>0?y.map(g=>{const j=[{latitude:m,longitude:h},{latitude:g.lat,longitude:g.lon}];try{g.distance=ye.getDistance(...j),g.direction=ye.getRhumbLineBearing(...j)}catch{}finally{return g}}):[])},[m,h,y,l,w,I,k,S,n,M,E,L,R,Q,G,z,J]}class vt extends ee{constructor(e){super();te(this,e,kt,_t,ne,{})}}function gt(i){let e,t,n;return t=new vt({}),{c(){e=u("main"),ce(t.$$.fragment),r(e,"class","svelte-1nofuoe")},m(a,s){b(a,e,s),fe(t,e,null),n=!0},p:q,i(a){n||(X(t.$$.fragment,a),n=!0)},o(a){U(t.$$.fragment,a),n=!1},d(a){a&&p(e),ue(t)}}}class bt extends ee{constructor(e){super();te(this,e,null,gt,ne,{})}}new bt({target:document.getElementById("app")});
